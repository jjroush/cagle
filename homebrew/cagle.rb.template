class Cagle < Formula
  desc "TUI tool to promote Claude Code project permissions to global settings"
  homepage "https://github.com/jjroush/cagle"
  version "VERSION"
  license "MIT"

  if Hardware::CPU.arm?
    url "https://github.com/jjroush/cagle/releases/download/vVERSION/cagle-vVERSION-aarch64-apple-darwin.tar.gz"
    sha256 "SHA256_ARM64"
  else
    url "https://github.com/jjroush/cagle/releases/download/vVERSION/cagle-vVERSION-x86_64-apple-darwin.tar.gz"
    sha256 "SHA256_X86_64"
  end

  def install
    bin.install "cagle"
  end

  test do
    assert_match "No .claude/settings.local.json found",
      shell_output("#{bin}/cagle 2>&1", 1)
  end
end
